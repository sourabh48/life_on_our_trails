{% extends "base.html" %}
{% block content %}

    <h2>All Blog Posts</h2>

    {% if posts %}
        {% for post in posts %}
            <div style="margin-bottom: 20px;">
                <h3>{{ post.title }}</h3>
                <p>{{ post.overview|default:post.content|truncatewords:20 }}</p>
                <a href="{% url 'post_detail' post.id %}">Read More</a>
            </div>
            <hr>
        {% endfor %}
    {% else %}
        <p>No posts available yet.</p>
    {% endif %}

    {% if user.is_staff %}
        <a href="{% url 'create_post' %}" style="margin-top:20px; display:inline-block;">
            âž• Create New Post
        </a>
    {% endif %}

{% endblock %}