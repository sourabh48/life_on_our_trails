{% extends "base.html" %}
{% load static %}

{% block content %}

    <link rel="stylesheet" href="{% static 'css/login.css' %}">
    <script defer src="{% static 'js/login.js' %}"></script>

    {# Django messages for login / signup feedback #}
    {% if messages %}
        <div class="auth-messages">
            {% for message in messages %}
                <div class="alert {{ message.tags }}">{{ message }}</div>
            {% endfor %}
        </div>
    {% endif %}

    <div class="auth-page-wrapper">

        <section id="container" class="auth-container sign-in">

        <div class="row">

            <!-- SIGN UP -->
            <div class="signupfield col align-items-center flex-col sign-up">
                <div class="form-wrapper align-items-center">
                    <form class="form sign-up" method="POST" action="{% url 'signup' %}">
                        {% csrf_token %}

                        <div class="avatar-upload">
                            <img id="avatarPreview" src="{% static 'img/core-img/default.png' %}"
                                 class="avatar-preview">
                            <label for="avatarInput" class="avatar-btn">Upload profile photo</label>
                            <input type="file" id="avatarInput" name="avatar" accept="image/*" hidden>
                        </div>

                        <div class="input-group">
                            <i class="bx bxs-user"></i>
                            <input type="text"
                                   id="signupUsername"
                                   name="username"
                                   placeholder="Username"
                                   required
                                   data-check-url="{% url 'check_username' %}">
                            <span id="usernameStatus"></span>
                        </div>

                        <div class="input-group">
                            <i class="bx bxs-id-card"></i>
                            <input type="text" name="full_name" placeholder="Full name" required>
                        </div>

                        <div class="input-group">
                            <i class="bx bx-mail-send"></i>
                            <input type="email" name="email" placeholder="Email" required>
                        </div>

                        <div class="input-group">
                            <i class="bx bx-pencil"></i>
                            <input type="text" name="bio" placeholder="Short bio (optional)">
                        </div>

                        <div class="input-group">
                            <i class="bx bxs-map"></i>
                            <input type="text" name="location" placeholder="City, Country (optional)">
                        </div>

                        <div class="input-group">
                            <i class="bx bxl-linkedin"></i>
                            <input type="url" name="linkedin" placeholder="LinkedIn (optional)">
                        </div>

                        <div class="input-group">
                            <i class="bx bxs-lock-alt"></i>
                            <input type="password" name="password" placeholder="Password" required>
                        </div>

                        <div class="input-group">
                            <i class="bx bxs-lock-alt"></i>
                            <input type="password" name="confirm_password" placeholder="Confirm password" required>
                        </div>

                        <button type="submit" class="auth-btn">Sign up</button>

                        <p class="switch-text">
                            <span>Already have an account?</span>
                            <b onclick="toggle()" class="pointer">Sign in here</b>
                        </p>
                    </form>
                </div>
            </div>

            <!-- SIGN IN -->
            <div class="col align-items-center flex-col sign-in">
                <div class="form-wrapper align-items-center">
                    <form class="form sign-in" method="POST" action="{% url 'login' %}">
                        {% csrf_token %}

                        <div class="input-group">
                            <i class='bx bxs-user'></i>
                            <input type="text" name="username" placeholder="Username" required>
                        </div>

                        <div class="input-group">
                            <i class='bx bxs-lock-alt'></i>
                            <input type="password" name="password" placeholder="Password" required>
                        </div>

                        <button type="submit">Sign in</button>

                        <p><b>Forgot password?</b></p>

                        <p>
                            <span>Don't have an account?</span>
                            <b onclick="toggle()" class="pointer">Sign up here</b>
                        </p>
                    </form>
                </div>
            </div>

        </div>

        <!-- CONTENT SECTION -->
        <div class="row content-row">

            <div class="col align-items-center flex-col">
                <div class="text sign-in">
                    <h2>Welcome</h2>
                    <p>Explore. Share. Create your trails.</p>
                </div>
                <div class="img sign-in">
                    <img src="{% static 'img/core-img/login-welcome.png' %}" alt="">
                </div>
            </div>

            <div class="col align-items-center flex-col">
                <div class="img sign-up">
                    <img src="{% static 'img/core-img/login-join.png' %}" alt="">
                </div>
                <div class="text sign-up">
                    <h2>Join with us</h2>
                    <p>Your story begins here.</p>
                </div>
            </div>

        </div>

        </section>
    </div>

{% endblock %}
